-- Create migrations table if it doesn't exist
CREATE TABLE IF NOT EXISTS "_prisma_migrations" (
    "id" TEXT NOT NULL,
    "checksum" TEXT NOT NULL,
    "finished_at" TIMESTAMP(3),
    "migration_name" TEXT NOT NULL,
    "logs" TEXT,
    "rolled_back_at" TIMESTAMP(3),
    "started_at" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "applied_steps_count" INTEGER NOT NULL DEFAULT 0,
    CONSTRAINT "_prisma_migrations_pkey" PRIMARY KEY ("id")
);

-- Create unique index if it doesn't exist
CREATE UNIQUE INDEX IF NOT EXISTS "_prisma_migrations_migration_name_key" ON "_prisma_migrations"("migration_name");

-- Clear existing migrations to avoid duplicates
TRUNCATE TABLE "_prisma_migrations";

-- Insert all migrations in order
INSERT INTO "_prisma_migrations" (id, checksum, migration_name, finished_at, applied_steps_count)
VALUES
    ('1', '00000000000000000000000000000000', '20241125214551_imit_db', NOW(), 1),
    ('2', '00000000000000000000000000000000', '20241201181817_add_patient_tutor_email', NOW(), 1),
    ('3', '00000000000000000000000000000000', '20241201184807_update_db', NOW(), 1),
    ('4', '00000000000000000000000000000000', '20241204204120_add_subscription_tables', NOW(), 1),
    ('5', '00000000000000000000000000000000', '20250322154916_update_db_tables_for_mvp', NOW(), 1),
    ('6', '00000000000000000000000000000000', '20250323131121_add_column_for_phoneme', NOW(), 1),
    ('7', '00000000000000000000000000000000', '20250504170148_update_activity_type_enum', NOW(), 1),
    ('8', '00000000000000000000000000000000', '20250504170709_update_activity_type_enum', NOW(), 1),
    ('9', '00000000000000000000000000000000', '20250602084837_init', NOW(), 1),
    ('10', '00000000000000000000000000000000', '20250602104319_add_templates', NOW(), 1),
    ('11', '00000000000000000000000000000000', '20250602105303_rename_template_to_prompt_template', NOW(), 1),
    ('12', '00000000000000000000000000000000', '20250602164204_add_stripe_subscriptions', NOW(), 1),
    ('13', '00000000000000000000000000000000', '20250602170223_add_prompt_generations', NOW(), 1),
    ('14', '00000000000000000000000000000000', '20250602172231_add_credit_system', NOW(), 1),
    ('15', '00000000000000000000000000000000', '20250602193718_add_stripe_fields', NOW(), 1),
    ('16', '00000000000000000000000000000000', '20250604110303_add_upvotes_to_prompt', NOW(), 1),
    ('17', '00000000000000000000000000000000', '20250604111411_add_is_approved_to_prompt', NOW(), 1),
    ('18', '00000000000000000000000000000000', '20250604132713_add_slug_to_prompt', NOW(), 1),
    ('19', '00000000000000000000000000000000', '20250604141110_make_slug_required', NOW(), 1),
    ('20', '00000000000000000000000000000000', '20250604154210_refactor_user_role_and_plan_type', NOW(), 1),
    ('21', '00000000000000000000000000000000', '20250604155512_refactor_user_role_and_plan_type', NOW(), 1),
    ('22', '00000000000000000000000000000000', '20250604155705_update_role_plan_type_enums', NOW(), 1),
    ('23', '00000000000000000000000000000000', '20250604193737_add_user_image_url', NOW(), 1),
    ('24', '00000000000000000000000000000000', '20250604193906_add_profile_fields', NOW(), 1),
    ('25', '00000000000000000000000000000000', '20250605172059_add_votes_and_comments', NOW(), 1),
    ('26', '00000000000000000000000000000000', '20250605172959_add_analytics', NOW(), 1),
    ('27', '00000000000000000000000000000000', '20250605173649_add_version_control', NOW(), 1),
    ('28', '00000000000000000000000000000000', '20250605174403_add_support_system', NOW(), 1),
    ('29', '00000000000000000000000000000000', '20250605193402_add_comment_threading', NOW(), 1),
    ('30', '00000000000000000000000000000000', '20250605194145_remove_comment_threading', NOW(), 1),
    ('31', '00000000000000000000000000000000', '20250605194702_add_parent_id_to_comments', NOW(), 1),
    ('32', '00000000000000000000000000000000', '20250605195208_add_comment_likes', NOW(), 1),
    ('33', '00000000000000000000000000000000', '20250605200903_add_prompt_analytics', NOW(), 1),
    ('34', '00000000000000000000000000000000', '20250606121256_add_playground_run_model', NOW(), 1),
    ('35', '00000000000000000000000000000000', '20250606124537_add_prompt_copy', NOW(), 1),
    ('36', '00000000000000000000000000000000', '20250606142738_add_full_field_versioning', NOW(), 1),
    ('37', '00000000000000000000000000000000', '20250606152408_add_playground_run_fields', NOW(), 1),
    ('38', '00000000000000000000000000000000', '20250606155206_add_playground_tracking', NOW(), 1),
    ('39', '00000000000000000000000000000000', '20250606170053_add_audit_log', NOW(), 1),
    ('40', '00000000000000000000000000000000', '20250606170521_add_subscription_indexes', NOW(), 1),
    ('41', '00000000000000000000000000000000', '20250606172052_add_api_keys', NOW(), 1),
    ('42', '00000000000000000000000000000000', '20250606181232_add_reports', NOW(), 1),
    ('43', '00000000000000000000000000000000', '20250606181611_add_hidden_to_comments', NOW(), 1),
    ('44', '00000000000000000000000000000000', '20250606181940_add_user_status', NOW(), 1),
    ('45', '00000000000000000000000000000000', '20250606184807_update_audit_logs', NOW(), 1),
    ('46', '00000000000000000000000000000000', '20250606193228_add_api_usage', NOW(), 1),
    ('47', '00000000000000000000000000000000', '20250606201103_add_moderation_table', NOW(), 1),
    ('48', '00000000000000000000000000000000', '20250606205916_add_email_signup', NOW(), 1),
    ('49', '00000000000000000000000000000000', '20250608094540_add_email_template', NOW(), 1),
    ('50', '00000000000000000000000000000000', '20250608102733_add_system_messages', NOW(), 1),
    ('51', '00000000000000000000000000000000', '20250608171613_add_version_features', NOW(), 1),
    ('52', '00000000000000000000000000000000', '20250609055229_add_prompt_ratings', NOW(), 1),
    ('53', '00000000000000000000000000000000', '20250609055721_add_test_history', NOW(), 1),
    ('54', '00000000000000000000000000000000', '20250610185622_add_test_history_improvements', NOW(), 1),
    ('55', '00000000000000000000000000000000', '20250611071135_add_plan_limitations', NOW(), 1),
    ('56', '00000000000000000000000000000000', '20250611071945_add_token_count_to_prompt_usage', NOW(), 1),
    ('57', '00000000000000000000000000000000', '20250611072106_add_feature_usage', NOW(), 1),
    ('58', '00000000000000000000000000000000', '20250611072259_add_prompt_type', NOW(), 1),
    ('59', '00000000000000000000000000000000', '20250611072639_add_team_models', NOW(), 1),
    ('60', '00000000000000000000000000000000', '20250611090646_add_metadata_field', NOW(), 1),
    ('61', '00000000000000000000000000000000', '20250611184307_add_elite_enterprise_plan_types', NOW(), 1),
    ('62', '00000000000000000000000000000000', '20250611190000_add_stripe_fields_with_defaults', NOW(), 1),
    ('63', '00000000000000000000000000000000', '20250611203606_add_unique_constraint_to_plan_name', NOW(), 1),
    ('64', '00000000000000000000000000000000', '20250612065644_add_usage_model', NOW(), 1),
    ('65', '00000000000000000000000000000000', '20250612065903_add_stripe_default_payment_method', NOW(), 1),
    ('66', '00000000000000000000000000000000', '20250612091001_add_notifications', NOW(), 1),
    ('67', '00000000000000000000000000000000', '20250612091705_fix_prompt_user_relation', NOW(), 1),
    ('68', '00000000000000000000000000000000', '20250612104949_add_currency_to_plan', NOW(), 1),
    ('69', '00000000000000000000000000000000', '20250612154736_add_user_settings', NOW(), 1),
    ('70', '00000000000000000000000000000000', '20250612180620_add_error_model', NOW(), 1),
    ('71', '00000000000000000000000000000000', '20250612180832_add_response_time', NOW(), 1),
    ('72', '00000000000000000000000000000000', '20250612181025_update_version_relations', NOW(), 1),
    ('73', '00000000000000000000000000000000', '20250612181208_add_last_active_at', NOW(), 1),
    ('74', '00000000000000000000000000000000', '20250613044434_add_role_change_log', NOW(), 1),
    ('75', '00000000000000000000000000000000', '20250613044626_add_super_admin_role', NOW(), 1),
    ('76', '00000000000000000000000000000000', '20250613045542_add_super_admin_role', NOW(), 1),
    ('77', '00000000000000000000000000000000', '20250613203805_update_plan_type_enum', NOW(), 1),
    ('78', '00000000000000000000000000000000', '20250613212946_add_plan_limits', NOW(), 1),
    ('79', '00000000000000000000000000000000', '20250613213100_add_performance_indexes', NOW(), 1),
    ('80', '00000000000000000000000000000000', '20250613213200_add_gdpr_fields', NOW(), 1),
    ('81', '00000000000000000000000000000000', '20250613213300_add_remaining_fields', NOW(), 1),
    ('82', '00000000000000000000000000000000', '20250614150705_add_gdpr_deletion_fields', NOW(), 1); 